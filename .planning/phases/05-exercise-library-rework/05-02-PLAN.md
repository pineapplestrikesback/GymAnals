---
phase: 05-exercise-library-rework
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - GymAnals/Models/Enums/Muscle.swift
  - GymAnals/Models/Enums/MuscleGroup.swift
autonomous: true

must_haves:
  truths:
    - "Muscle enum has 34 cases (31 existing + 3 new)"
    - "New muscles map to correct MuscleGroup"
    - "Project compiles after muscle additions"
  artifacts:
    - path: "GymAnals/Models/Enums/Muscle.swift"
      provides: "Complete 34-muscle taxonomy"
      contains: "case serratusAnterior"
  key_links:
    - from: "Muscle.swift"
      to: "MuscleGroup.swift"
      via: "group computed property"
      pattern: "case .serratusAnterior.*return .back"
---

<objective>
Add 3 new muscles to the Muscle enum to match the research data.

Purpose: Ensure muscle taxonomy matches the 34 muscles used in presets_all.json.
Output: Updated Muscle enum with serratusAnterior, gluteusMinimus, and adductors.
</objective>

<execution_context>
@/Users/opera_user/.claude/get-shit-done/workflows/execute-plan.md
@/Users/opera_user/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/phases/05-exercise-library-rework/05-CONTEXT.md
@GymAnals/Models/Enums/Muscle.swift
@GymAnals/Models/Enums/MuscleGroup.swift
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add new muscle cases to Muscle enum</name>
  <files>
    GymAnals/Models/Enums/Muscle.swift
  </files>
  <action>
Add 3 new muscle cases to the Muscle enum:

1. Add `serratusAnterior` to the Back section (after teresMajor):
   - displayName: "Serratus"
   - anatomicalName: "Serratus Anterior"
   - group: .back

2. Add `gluteusMinimus` to the Legs section (after gluteusMedius):
   - displayName: "Glute Min"
   - anatomicalName: "Gluteus Minimus"
   - group: .legs

3. Add `adductors` to the Legs section (after gluteusMinimus):
   - displayName: "Adductors"
   - anatomicalName: "Hip Adductors"
   - group: .legs

Update the file header comment to reflect 34 muscles (from 31).

Update all switch statements:
- displayName switch: add cases for 3 new muscles
- anatomicalName switch: add cases for 3 new muscles
- group switch: add serratusAnterior to back cases, add gluteusMinimus and adductors to legs cases
  </action>
  <verify>
Build project - should compile without errors. Verify with grep that all 3 new cases exist.
  </verify>
  <done>
Muscle enum updated with 34 cases. All switch statements exhaustive and compiling.
  </done>
</task>

<task type="auto">
  <name>Task 2: Update MuscleGroup muscles filter</name>
  <files>
    GymAnals/Models/Enums/MuscleGroup.swift
  </files>
  <action>
If MuscleGroup has a computed property that returns muscles for each group, ensure it includes the new muscles:

- back group should include: ..., teresMajor, serratusAnterior
- legs group should include: ..., gluteusMedius, gluteusMinimus, adductors, gastrocnemius, soleus

Note: If muscles is computed via Muscle.allCases.filter { $0.group == self }, no changes needed as it's automatic.
  </action>
  <verify>
Build project. If MuscleGroup has explicit muscle lists, verify new muscles are included.
  </verify>
  <done>
MuscleGroup properly includes new muscles (either automatically via filter or explicitly listed).
  </done>
</task>

</tasks>

<verification>
1. Run `xcodebuild -scheme GymAnals -destination 'platform=iOS Simulator,name=iPhone 16' build` - exits with code 0
2. Muscle.allCases.count should be 34 (verify in test or playground)
3. grep for "serratusAnterior" in Muscle.swift returns 4+ matches (case, displayName, anatomicalName, group)
4. grep for "gluteusMinimus" in Muscle.swift returns 4+ matches
5. grep for "case adductors" in Muscle.swift returns 1 match
</verification>

<success_criteria>
- Muscle enum compiles with 34 cases
- All new muscles have displayName, anatomicalName, and group mappings
- No compiler warnings about non-exhaustive switches
- MuscleGroup.legs includes gluteusMinimus and adductors
- MuscleGroup.back includes serratusAnterior
</success_criteria>

<output>
After completion, create `.planning/phases/05-exercise-library-rework/05-02-SUMMARY.md`
</output>
